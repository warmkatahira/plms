import{s as r}from"./loading-CLXJ3Lsj.js";let e;$("#select_image").on("change",function(o){const a=o.target.files[0];if(a){const t=new FileReader;t.onload=function(i){$("#preview").attr("src",i.target.result),e&&e.destroy(),e=new Cropper(document.getElementById("preview"),{aspectRatio:1,viewMode:1,ready:function(){e.setCropBoxData({left:50,top:50,width:100,height:100})}})},t.readAsDataURL(a)}});$("#profile_image_update_modal_open").on("click",function(){$("#profile_image_update_modal").removeClass("hidden")});$(document).on("click",function(o){o.target.classList.contains("profile_image_update_modal_close")&&($("#profile_image_update_modal").addClass("hidden"),$("#preview").attr("src",""),$("#select_image").val(""),e&&(e.destroy(),e=null))});$("#profile_image_update_enter").on("click",function(){window.confirm("更新を実行しますか？")===!0&&(e&&e.getCroppedCanvas().toBlob(a=>{r();const t=e.getData();$("#crop_data_x").val(t.x),$("#crop_data_y").val(t.y),$("#crop_data_width").val(t.width),$("#crop_data_height").val(t.height),$("#profile_image_update_form").submit()}),e||alert("画像が選択されていません。"))});$("#profile_update_enter").on("click",function(){window.confirm("プロフィールを更新しますか？")===!0&&$("#profile_update_form").submit()});$("#logout_enter").on("click",function(){window.confirm("ログアウトしますか？")===!0&&(localStorage.removeItem("navScrollPosition"),localStorage.removeItem("navOpenStates"),$("#logaut_form").submit())});
